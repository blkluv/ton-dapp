#include "utils/sell-storage.func";

int __test_try_to_buy(){
    set_fake_data();
    slice random_tolstosum = generate_any_address(1);

    int fwd_fee = 10000;
    cell tolstosum_buy_nft_message = generate_internal_message_custom(
            0, ;; bounce
            one_ton * 10000, ;; ton_amount - really big money here
            0, ;; init_state
            begin_cell(), ;; payload
            random_tolstosum, ;; src
            my_address(), ;; dest
            fwd_fee); ;; fwd_fee

    [int, int, cell, slice] internal_message_stack = [
            one_ton / 10, ;; my_balance
            one_ton * 10000, ;; msg_value
            tolstosum_buy_nft_message, ;; in_msg_full
            ""]; ;; in_msg_body

    (int gas_used_2, _) = invoke_method(recv_internal, internal_message_stack);

    ;; TODO: tests on messages
    return 0;
}